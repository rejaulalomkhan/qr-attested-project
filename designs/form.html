<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Attestation Form</title>
    <link rel="stylesheet" href="style2.css">
    <style>
        .btn-remove-upload {
            background-color: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 6px 14px;
            font-size: 14px;
            cursor: pointer;
            margin-left: 10px;
            transition: background 0.2s;
        }
        .btn-remove-upload:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="vertical-text">Powered by VFS Global</div>
        
        <div class="document-container">
            <div class="logos-header">
                <div class="logo-left">
                    <img src="https://omanpostapi.docswallet.com/pdf/document_repository/images/logo/oman_logo.png" alt="Oman Post Logo" class="logo-img">
                </div>
                <div class="logo-right">
                    <div class="ministry-info">
                        <img src="https://omanpostapi.docswallet.com/pdf/document_repository/images/images/khanjar.jpg" alt="Sultanate of Oman Emblem" class="logo-img">
                        <span class="ministry-text">Foreign Ministry</span>
                    </div>
                </div>
            </div>

            <div class="titles">
                <div class="arabic-title">نموذج التصديق الرقمي</div>
                <div class="english-title">Digital Attestation Form</div>
            </div>

            <form class="attestation-form" action="#" method="POST">
                <div class="section">
                    <div class="section-header">Transaction Details</div>
                    <div class="form-group">
                        <label for="transactionNumber">Transaction Number:</label>
                        <input type="text" id="transactionNumber" name="transactionNumber" placeholder="Enter transaction number" required>
                    </div>
                    <div class="form-group">
                        <label for="paymentId">Payment ID:</label>
                        <input type="text" id="paymentId" name="paymentId" placeholder="Enter payment ID" required>
                    </div>
                    <div class="form-group">
                        <label for="totalPayment">Total Payment (OMR):</label>
                        <input type="number" id="totalPayment" name="totalPayment" step="0.01" placeholder="0.00" required>
                    </div>
                    <div class="form-group">
                        <label for="transactionDate">Transaction Date:</label>
                        <input type="date" id="transactionDate" name="transactionDate" required>
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">Candidate Details</div>
                    <div class="form-group">
                        <label for="documentType">Document Type:</label>
                        <select id="documentType" name="documentType" required>
                            <option value="">Select document type</option>
                            <option value="Other commercial Documents">Other commercial Documents</option>
                            <option value="Educational Documents">Educational Documents</option>
                            <option value="Personal Documents">Personal Documents</option>
                            <option value="Business Documents">Business Documents</option>
                            <option value="Legal Documents">Legal Documents</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="applicantName">Applicant Name:</label>
                        <input type="text" id="applicantName" name="applicantName" placeholder="Enter applicant name" required>
                    </div>
                    <div class="form-group">
                        <label for="emailId">Email ID:</label>
                        <input type="email" id="emailId" name="emailId" placeholder="Enter email address" required>
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">Phone Number:</label>
                        <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="Enter phone number" required>
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">Verification Details</div>
                    <div class="form-group">
                        <label for="verifierName">Verifier Name:</label>
                        <input type="text" id="verifierName" name="verifierName" value="Foreign Ministry - Oman" readonly>
                    </div>
                    <div class="form-group">
                        <label for="verificationStatus">Verification Status:</label>
                        <select id="verificationStatus" name="verificationStatus" required>
                            <option value="">Select status</option>
                            <option value="Pending">Pending</option>
                            <option value="Approved">Approved</option>
                            <option value="Rejected">Rejected</option>
                            <option value="Under Review">Under Review</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="verificationDateTime">Verification Date & Time:</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="date" id="verificationDate" name="verificationDate" required style="flex: 1;">
                            <input type="time" id="verificationTime" name="verificationTime" step="1" required style="flex: 1;">
                        </div>
                        <small>Format: YYYY-MM-DD HH:MM:SS</small>  
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">Document Details</div>
                    <div id="document-upload-repeater">
                        <div class="form-group document-upload-group">
                            <label for="originalDocument0">Original Document:</label>
                            <input type="file" id="originalDocument0" name="originalDocument[]" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" required>
                            <button type="button" class="btn-remove-upload" style="display:none; background-color:#e74c3c; color:#fff; padding:6px 14px;">Remove</button>
                            <small>Accepted formats: PDF, DOC, DOCX, JPG, JPEG, PNG</small>
                        </div>
                    </div>
                    <button type="button" id="add-upload-btn" class="btn-add-upload">Add Another Document</button>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-submit">Submit Attestation</button>
                    <button type="reset" class="btn-reset">Reset Form</button>
                    <a href="index.html" class="btn-view-result">View Result</a>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date and time for verification
            const now = new Date();
            const dateString = now.toISOString().slice(0, 10);
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            const timeString = `${hours}:${minutes}:${seconds}`;
            document.getElementById('verificationDate').value = dateString;
            document.getElementById('verificationTime').value = timeString;
            document.getElementById('transactionDate').value = dateString;

            // Repeater logic for multiple file uploads
            const repeater = document.getElementById('document-upload-repeater');
            const addBtn = document.getElementById('add-upload-btn');

            addBtn.addEventListener('click', function() {
                const groups = repeater.querySelectorAll('.document-upload-group');
                const idx = groups.length;
                const newGroup = groups[0].cloneNode(true);

                // Update input id and clear value
                const input = newGroup.querySelector('input[type="file"]');
                input.id = 'originalDocument' + idx;
                input.value = '';
                input.required = false; // Only first is required

                // Show remove button
                const removeBtn = newGroup.querySelector('.btn-remove-upload');
                removeBtn.style.display = 'inline-block';

                // Remove previous event listeners
                const newRemoveBtn = removeBtn.cloneNode(true);
                removeBtn.parentNode.replaceChild(newRemoveBtn, removeBtn);

                newRemoveBtn.addEventListener('click', function() {
                    newGroup.remove();
                });

                repeater.appendChild(newGroup);
            });

            // Remove button for first group (hidden)
            const firstRemoveBtn = repeater.querySelector('.btn-remove-upload');
            firstRemoveBtn.style.display = 'none';
        });

        // Form submission handling
        document.querySelector('.attestation-form').addEventListener('submit', function(e) {
            e.preventDefault();

            // Combine date and time for display
            const date = document.getElementById('verificationDate').value;
            const time = document.getElementById('verificationTime').value;
            const fullDateTime = `${date} ${time}`;

            console.log('Verification Date & Time:', fullDateTime);
            alert('Form submitted successfully! Redirecting to result page...');
            // Here you would typically send the data to a server
            // For now, we'll just redirect to the result page
            window.location.href = 'index.html';
        });
    </script>
</body>
</html> 